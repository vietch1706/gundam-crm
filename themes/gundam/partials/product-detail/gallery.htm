<div class="md:w-2/5">
    <div class="relative w-full h-[600px] overflow-hidden rounded-lg">
        {% if product.gallery|length %}
        <div id="main-carousel" class="carousel w-full h-full">
            {% for image in product.gallery %}
            <img src="{{ image|media }}"
                 alt="{{ product.name }}"
                 class="carousel-item-main w-full h-full object-cover absolute top-0 left-0 opacity-0 transition-opacity duration-500"
                 data-index="{{ loop.index0 }}">
            {% endfor %}
            {% if productVariant %}
            {% for variant in productVariant %}
            <img src="{{ variant.image|media }}"
                 alt="{{ variant.name }}"
                 class="carousel-item-main w-full h-full object-cover absolute top-0 left-0 opacity-0 transition-opacity duration-500"
                 data-index="{{ loop.index0 + product.gallery|length }}">
            {% endfor %}
            {% endif %}
        </div>
        {% else %}
        <img src="{{ 'no-image-available-beautiful-orange.png'|media }}"
             alt="No image available"
             class="w-full h-[400px] object-cover rounded-lg">
        {% endif %}
    </div>
    {% if product.gallery|length %}
    <div class="mt-4 relative">
        <div id="thumbnail-carousel" class="flex space-x-2 overflow-x-hidden justify-center">
            {% for image in product.gallery %}
            <img src="{{ image|media }}"
                 alt="{{ product.name }}"
                 class="thumbnail w-20 h-20 object-cover rounded-lg cursor-pointer border-2 border-transparent hover:border-orange-500"
                 data-index="{{ loop.index0 }}">
            {% endfor %}
            {% if productVariant %}
            {% for variant in productVariant %}
            <img src="{{ variant.image|media }}"
                 alt="{{ variant.name }}"
                 class="thumbnail w-20 h-20 object-cover rounded-lg cursor-pointer border-2 border-transparent hover:border-orange-500"
                 data-index="{{ loop.index0 + product.gallery|length }}">
            {% endfor %}
            {% endif %}
        </div>
        <button id="thumb-prev"
                class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white border-2 border-orange-500 text-orange-500 p-2 rounded-full hover:bg-orange-100 focus:outline-none focus:ring-4 focus:ring-orange-300 transition-all duration-300 ease-in-out z-10 cursor-pointer"
                aria-label="Previous thumbnails">
            <i class="fas fa-chevron-left w-4 h-4"></i>
        </button>
        <button id="thumb-next"
                class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white border-2 border-orange-500 text-orange-500 p-2 rounded-full hover:bg-orange-100 focus:outline-none focus:ring-4 focus:ring-orange-300 transition-all duration-300 ease-in-out z-10 cursor-pointer"
                aria-label="Next thumbnails">
            <i class="fas fa-chevron-right w-4 h-4"></i>
        </button>
    </div>
    {% endif %}
</div>
